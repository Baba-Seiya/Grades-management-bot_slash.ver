# Grades management bot （nonSlash_ver）
※nonSlash_verなので”/”のところを！に置き換えて見てください。
valorant等の対戦ゲームで個人単位で勝率を記録できるbotです。

## コードの使い方
初期設定：sample.envファイルのMY_TOKEN＝にトークンを入力（sampleを消して.envのみにする）
dotenv,discord.py、その他もろもろをインストールする必要があります。
dbも使い始めたので何すれば他の人がこの環境構築できるか分かりません。いや考えれば分かるけど考えたくありません。
あと、コード見てもらえばわかると思いますが汚すぎて分かるようになっていません。関数がファイルで分けれることが出来るのを知らない時から作り出したので…いつか直しますm(__)m


messegeidはdiscordの開発者モードをオンにすることによってコピーすることができます。

### １．選手登録を行う
記録する選手はまず選手登録が必要になります。
/regist　と入力すると自動で入力した選手が登録されます

NEW!サーバー別に記録できるようになりましたNEW!
サーバー別に記録するようになったので別サーバーにて使用する際は/registをしてください。
○○を追加登録しました！　と表示されたらサーバー別登録完了です。


#### ２．１試合結果の登録 (リアクションタイプ)
/match　と入力するとbotが返答し、🅰️ と 🐢 がリアクションされます。
＊便宜上🅰️をAttacker、🐢をDefenderとします。
選手は🅰️ または 🐢のどちらかをリアクションし、チーム分けできた場合🆗を押してください
そのまま試合を開始してください
試合が終わったら、Attackerが勝利した場合✅をリアクション、Defenderが勝利した場合❌をリアクションしてください
これで試合結果の登録は完了です

#### ２．２試合結果の登録(boom bot連動タイプ)
注意！（入力したテキストチャンネルチャンネルid とboom bot が同じテキストチャンネルにメッセージがある必要があります）
/match-b と入力するとboom botの最新のv.teamの結果を参照してAttackerとDefenderを振り分けてくれます。（!match-b‹messege id›でメッセージIDを指定することも可能
振り分けが正しければOKリアクションをしてください。
後は２．１のリアクションタイプと同じです。


#### ３．試合結果の表示
/score　と入力すると勝率順でソートした個人別成績が表示されます。


#### 4．メッセージ、リアクション指定で一括メンション機能実装！！！
時間にルーズなゲーマーが多いため仕方なく実装しました。
/call<messegeid><メッセージについてる絵文字>（例）/call968048735617695744🐑
↑を使用するとそのメッセージについてる指定したリアクションに反応した人を一斉メンション出来ます。
NEW！！　/call<絵文字>直近のその絵文字がついてるメッセージのリアクションをメンションするようになりました

**注意！**
discordの名前を変更すると使用できなくなるかもしれません。←デバックしてない…

https://discord.com/api/oauth2/authorize?client_id=899452828882456586&permissions=1644369017969&scope=applications.commands%20bot